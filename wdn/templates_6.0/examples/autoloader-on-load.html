<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Autoloader on load</title>
        <link rel="stylesheet" href="/wdn/templates_6.0/css/critical.css">
        <link rel="stylesheet" href="/wdn/templates_6.0/css/main.css">
        <script src="/wdn/templates_6.0/js/head-2.js"></script>
    </head>
    <body class="unl">
        <main>
            <h1 >Autoloader on load</h1>
        </main>

        <script defer>
            window.UNL.autoLoader.onLoad(async() => {
                console.log('test defined before');
                const tabsClass = await window.UNL.autoLoader.plugins['wdnTab'].module.initialize();
                console.log(tabsClass);
            });
            document.addEventListener('autoLoaderPreLoad', () => {
                console.log('pre load event');
            });
            document.addEventListener('autoLoaderPostLoad', async () => {
                console.log('post load event');
                const dialogClass = await window.UNL.autoLoader.plugins['wdnDialog'].module.initialize();
                console.log(dialogClass);
            });
        </script>
        <script src="/wdn/templates_6.0/js/auto-loader.js" type="module"></script>
        <script>
            setTimeout(() => {
                window.UNL.autoLoader.onLoad(() => {
                    console.log('test defined after');
                });
            }, 1000);
        </script>
    </body>
</html>