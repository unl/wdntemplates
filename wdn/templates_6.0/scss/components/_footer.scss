//////////////////////////////
// THEME / COMPONENTS / FOOTER
//////////////////////////////


@use "sass:color";
@use "../variables/" as var;
@use "../mixins/" as mixins;


.unl .dcf-footer {
  color: var.$light-gray;
  background-color: var.$darker-gray;
}


.unl-footer-stripe::before {
  background-image: linear-gradient(
    to top,
    color.adjust(var.$darker-gray, $alpha: -1) 3px,
    var.$darker-gray 3px,
    var.$darker-gray 5px,
    color.adjust(var.$darker-gray, $alpha: -1) 5px
  );
  content: '';
  height: 5px;
  position: absolute;
  top: -5px;
  width: 100%;
}


.unl .dcf-footer h2 {
  @include mixins.cream;
  @include mixins.txt-md;
  @include mixins.ls-2;
  @include mixins.lh-3;
  text-transform: uppercase;
}


// Footer lists
/* .unl .dcf-footer dl,
.unl .dcf-footer ol,
.unl .dcf-footer ul {
  // Fix list-style: none in VoiceOver and Safari: https://www.scottohara.me/blog/2019/01/12/lists-and-safari.html
  list-style: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E");
  margin-bottom: 0;
  padding-left: 0;
} */


// .unl .dcf-footer li {
//   @include mixins.mb-0;
// }


/* .unl .dcf-footer li a {
  display: inline-block;
  @include mixins.pb-1;
  @include mixins.pt-1;
} */


// Footer links
// TODO: determine focus state styles
.unl .dcf-footer a,
.unl .dcf-footer a:link {
  color: var.$lighter-gray;
}


.unl .dcf-footer a:visited,
.unl .dcf-footer a:hover,
.unl .dcf-footer a:active {
  color: var.$cream;
}


.unl-footer-groups dd a:not(:hover),
.unl-footer-groups li a:not(:hover) {
  text-decoration: none;
}


@include mixins.mq(sm, max, width) {

  .unl-footer-unl {
    margin-bottom: #{var.$ms-8}em;
  }

}


@include mixins.mq(md, max, width) {

  #unl-footer-herbie {
    display: none;
  }

}


@include mixins.mq(md, min, width) {

  #unl-footer-herbie {
    display: block;
    left: calc(5.62vw + 42.09rem + 1vw);
  }

}


.unl .dcf-footer-group-heading,
.unl .dcf-footer-group-list {
  font-size: .84em !important;
  line-height: 1.33;
}


.unl .dcf-footer-group-heading {
  color: #fefdfa;
  letter-spacing: .056em;
  text-transform: uppercase;
}


// .unl .dcf-footer li {
//   list-style-type: none;
//   margin-bottom: .5625em;
// }
/* .unl .dcf-footer li::before {
  content: "\200B";
} */
// .unl .dcf-footer li a {
//   display: unset;
//   padding-bottom: unset;
//   padding-top: unset;
// }

@supports (animation-timeline: view()) {


  @keyframes scale-nebraska {
    from {
      transform: scale(1.33);
    }
    to {
      transform: scale(1);
    }
  }


  #unl-footer-nebraska-wordmark {
    animation: scale-nebraska linear;
    animation-range: entry 0% entry 100%;
    animation-timeline: view();
    transform-origin: top center;
    will-change: transform;
  }


  @keyframes slide-herbie-back {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(100%);
    }
  }


  @keyframes slide-herbie {
    0% {
      transform: translateY(100%) scale(75%);
    }
    100% {
      transform: translateY(0) scale(100%);
    }
  }


  #unl-footer-herbie {
    /* --back-in easing: https://codepen.io/smashingmag/pen/zYywLXB */
    animation: slide-herbie-back 300ms linear(0, -0.0029 4.31%, -0.0119 9.02%, -0.0838 31.27%, -0.0956 36.64%, -0.1 41.45%, -0.0953 47.03%, -0.0792 52.25%, -0.0512 57.19%, -0.0111 61.92%, 0.0512 67.19%, 0.131 72.27%, 0.2284 77.18%, 0.3443 81.96%, 0.479 86.62%, 0.6329 91.17%, 0.8065 95.63%, 1) forwards;
    transform: translateY(100%) scale(75%);
    transform-origin: bottom center;
    will-change: transform;
  }


  @container style(--bit: 1) {
    #unl-footer-herbie {
      /* --expo-out easing: https://codepen.io/smashingmag/pen/zYywLXB */
      animation: slide-herbie 600ms linear(0, 0.1684 2.66%, 0.3165 5.49%, 0.446 8.52%, 0.5581 11.78%, 0.6535 15.29%, 0.7341 19.11%, 0.8011 23.3%, 0.8557 27.93%, 0.8962 32.68%, 0.9283 38.01%, 0.9529 44.08%, 0.9711 51.14%, 0.9833 59.06%, 0.9915 68.74%, 1) 2s forwards;
    }
  }


  :has(> #unl-footer-herbie) {
    animation: flipthebit both;
    animation-range: entry 100%;
    animation-timeline: view();
    overflow-y: clip;
  }

}
