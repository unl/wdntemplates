(function(d){var i=function(a){return a},j=function(a){if("string"!=typeof a)return parseFloat(a);var c=a.indexOf("."),b=a.indexOf(",");-1!=c&&-1!=b?a=b>c?a.replace(".","").replace(",","."):a.replace(",",""):-1!=b&&(a=a.replace(",","."));return parseFloat(a)};d.all=function(a,c){var b=!0;a&&(c=c||i,d.each(a,function(a,d){return b=b&&c(d,a)}));return b};d.any=function(a,c){var b=!1;a&&(c=c||i,d.each(a,function(a,d){b=c(d,a);return!b}));return b};var e,f;e=function(a,c,b,d){"function"==typeof b?(this.options=
d,this._test=b):(this.options=b,this._test=function(){return!0});this.error=c||"Validation failed."};e.prototype={test:function(a,c){var b=this._test(a,c);b&&(b=d.all(this.options,function(b,d){return e.methods[d]?e.methods[d](a,c,b):!0}));return b}};e.methods={pattern:function(a,c,b){return b.test(a)},minLength:function(a,c,b){return a.length>=b},maxLength:function(a,c,b){return a.length<=b},min:function(a,c,b){return a>=parseFloat(b)},max:function(a,c,b){return a<=parseFloat(b)},notOneOf:function(a,
c,b){return d.all(b,function(b){return a!=b})},oneOf:function(a,c,b){return d.any(b,function(b){return a==b})},is:function(a,c,b){return a==b},isNot:function(a,c,b){return a!=b},equalToField:function(a,c,b){return a==d(b).val()},notEqualToField:function(a,c,b){return a!=d(b).val()},include:function(a,c,b){return d.all(b,function(b){return f.methods[b]?f.methods[b].test(a,c):!0})}};f=function(a,c){if(this.form=a)if(this.options=c,this.options.onSubmit&&this.form.submit(d.proxy(this.onSubmit,this)),
this.options.immediate){var b=this;d(":input",this.form).each(function(){d(this).is(":radio, :checkbox")?d(this).click(d.proxy(b.onChange,b)):d(this).change(d.proxy(b.onChange,b))})}};f.prototype={onChange:function(a){f.isOnChange=!0;a=a.target;this.resetElement(a);this.validateField(a);f.isOnChange=!1},onSubmit:function(){if(!this.validate())return!1},validate:function(){var a=!1,c=[],b=this;d(".validation-advice li",this.form).hide();try{d(":input",this.form).each(function(){var a=b.validateField(this);
c.push(a);if(b.options.stopOnFirst&&!a)return a})}catch(f){c.push(!1),WDN.log(f)}a=d.all(c);!a&&this.options.focusOnError&&d(":input:visible.validation-failed",this.form).first().focus();this.form.triggerHandler("validate-form",[a]);return a},validateField:function(a){var a=d(a),c=this,b=a.attr("class"),e=[];b&&(e=b.split(" "));return d.all(e,function(b){return(b=d.trim(b))&&f.methods[b]?(b=c.validateTest(b,a),a.triggerHandler("validate-element",[b]),b):!0})},validateTest:function(a,c){var b=f.methods[a];
if(c.is(":visible")&&!b.test(c.val(),c))return f.showAdvice(a,c,this.options),c.triggerHandler("validate-update",["failed"]),!1;c.triggerHandler("validate-update",["passed"]);c.removeClass("validation-failed").addClass("validation-passed");this.options.addClassNameToContainer&&(b=f.getContainer(c,this.options),d(".validation-failed",b).length||(d.trim(c.val())||!c.is(":visible")?b.addClass("validation-passed"):b.removeClass("validation-passed"),b.removeClass("validation-error")));return!0},reset:function(){var a=
this;d(":input",this.form).each(function(){a.resetElement(this)})},resetElement:function(a){var a=d(a),c=f.getAdviceContainer(a,this.options);d(".validation-advice li",c).hide();a.removeClass("validation-failed");a.removeClass("validation-passed");this.options.addClassNameToContainer&&(f.getContainer(a,this.options),containter.removeClass("validation-passed").removeClass("validation-error"))}};f.methods={IsEmpty:new e("IsEmpty","",function(a){return""==d.trim(a)}),"required-entry":new e("required-entry",
"This is a required field.",function(a){return!f.methods.IsEmpty.test(a)}),"validate-number":new e("validate-number","Please enter a valid number in this field.",function(a){return f.methods.IsEmpty.test(a)||!isNaN(j(a))}),"validate-digits":new e("validate-digits","Please use numbers only in this field. please avoid spaces or other characters such as dots or commas.",function(a){return f.methods.IsEmpty.test(a)||!/[^\d]/.test(a)}),"validate-alpha":new e("validate-alpha","Please use letters only (a-z or A-Z) in this field.",
function(a){return f.methods.IsEmpty.test(a)||/^[a-zA-Z]+$/.test(a)}),"validate-code":new e("validate-code","Please use only letters (a-z), numbers (0-9) or underscore(_) in this field, first character should be a letter.",function(a){return f.methods.IsEmpty.test(a)||/^[a-z]+[a-z0-9_]+$/.test(a)}),"validate-alphanum":new e("validate-alphanum","Please use only letters (a-z or A-Z) or numbers (0-9) only in this field. No spaces or other characters are allowed.",function(a){return f.methods.IsEmpty.test(a)||
/^[a-zA-Z0-9]+$/.test(a)}),"validate-phoneStrict":new e("validate-phoneStrict","Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.",function(a){return f.methods.IsEmpty.test(a)||/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/.test(a)}),"validate-phoneLax":new e("validate-phoneLax","Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.",function(a){return f.methods.IsEmpty.test(a)||/^((\d[-. ]?)?((\(\d{3}\))|\d{3}))?[-. ]?\d{3}[-. ]?\d{4}$/.test(a)}),
"validate-date":new e("validate-date","Please enter a valid date.",function(a){var c=new Date(a);return f.methods.IsEmpty.test(a)||!isNaN(c)}),"validate-email":new e("validate-email","Please enter a valid email address. For example johndoe@domain.com",function(a){return f.methods.IsEmpty.test(a)||/^[a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]+(\.[a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*\.([a-z]{2,})/i.test(a)}),"validate-url":new e("validate-url","Please enter a valid URL. http:// is required",
function(a){return f.methods.IsEmpty.test(a)||/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(a)}),"validate-zip":new e("validate-zip","Please enter a valid zip code. For example 90602 or 90602-1234.",function(a){return f.methods.IsEmpty.test(a)||/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(a)}),"validate-currency-dollar":new e("validate-currency-dollar","Please enter a valid $ amount. For example $100.00.",function(a){return f.methods.IsEmpty.test(a)||/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/.test(a)}),
"validate-one-required":new e("validate-one-required","Please select one of the above options.",function(a,c){var b=c.parent(),b=d(":input",b);return d.any(b,function(a){return d(a).val()})}),"validate-one-required-by-name":new e("validate-one-required-by-name","Please select one of the options.",function(a,c){var b=c.attr("name").replace(/([\\"])/g,"\\$1");return 0<d("input[name="+b+"]:checked").length}),"validate-unsigned-number":new e("validate-unsigned-number","Please enter a valid number in this field.",
function(a){a=j(a);return!isNaN(a)&&0<=a}),"validate-greater-than-zero":new e("validate-greater-than-zero","Please enter a number greater than 0 in this field.",function(a){return a.length?0<parseFloat(a):!0}),"validate-zero-or-greater":new e("validate-zero-or-greater","Please enter a number 0 or greater in this field.",function(a){return a.length?0<=parseFloat(a):!0}),"validate-percents":new e("validate-percents","Please enter a number lower than 100",{min:0,max:100})};f.getContainer=function(a,
c){var b;if(c.containerClassName){var d=a.parents("."+c.containerClassName);d.length&&(b=d.first())}b||(b=a.parent());return b};f.getAdviceContainer=function(a,c){var b=a.closest(".advice-container");b.length||(b=f.getContainer(a,c));return b};f.showAdvice=function(a,c,b){var e=f.getContainer(c,b);b.addClassNameToContainer&&e.removeClass("validation-passed").addClass("validation-error");var g=c.closest(".advice-container");g.length?(g.removeClass("validation-passed").addClass("validation-failed"),
e=g):c.removeClass("validation-passed").addClass("validation-failed");g=e.children(".validation-advice");g.length||(g=d('<ul class="validation-advice" />'),e.append(g));e=d("li.advice-"+a,g);if(!e.length){var e=d('<li class="advice-'+a+'" />').hide(),a=f.methods[a],h;b.useTitles&&c.attr("title")&&(h=c.attr("title"));h||(h=a.error);e.text(h).appendTo(g)}e.show()};d.fn.validation=function(a){var c=d.extend({},d.fn.validation.defaults,a);this.each(function(){d(this).data("validation")||d(this).data("validation",
new f(d(this),c))});return this};d.fn.validation.defaults={onSubmit:!0,stopOnFirst:!1,immediate:!1,focusOnError:!0,useTitles:!1,addClassNameToContainer:!1,containerClassName:"input-box"};d.validation={addMethod:function(a,c,b,d){f.methods[a]=new e(a,c,b,d)}}})(WDN.jQuery);
